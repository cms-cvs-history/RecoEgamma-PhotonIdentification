process PhotonIDProc = 
{
# initialize  MessageLogger
   #include "FWCore/MessageLogger/data/MessageLogger.cfi"
   #include "FWCore/MessageService/data/MessageLogger.cfi"
   
    source = PoolSource { 
       untracked vstring fileNames ={
          'dcap://cmsdcap.hep.wisc.edu:22125/pnfs/hep.wisc.edu/store/user/mbanderson/PhotonJet20-200/PhotonJet20-200-0000.root'
       }
    }

  untracked PSet maxEvents = {untracked int32 input = 100}
 
  include "RecoEgamma/PhotonIdentification/data/photonId.cff"
  include "Geometry/CaloEventSetup/data/CaloGeometry.cfi"
  include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"
  include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"
  include "Geometry/CaloEventSetup/data/CaloTopology.cfi"

  module Out = PoolOutputModule
   { 
     untracked string fileName = "Photest.root"
     
       untracked vstring outputCommands = 
      {
        "drop *",
        "keep edmHepMCProduct_*_*_*",
        "keep recoBasicClusters_*_*_*",
        "keep recoSuperClusters_*_*_*",
	"keep *_PhotonIDProd_*_*",
	"keep *_PhotonIDProd_*_*",
	"keep recoPhotons_*_*_*"
      }	
   }

module photonIDAna = PhotonIDSimpleAnalyzer
  {
    string outputFile  = "PhoIDHists.root"

    # Minimum Et
    double minPhotonEt = 10.0
    # Minimum R9 = E(3x3) / E(SuperCluster)
    double minPhotonR9 = 0.6
    # Maximum HCAL / ECAL Energy
    double maxPhotonHoverE = 0.2
  }


path p = {photonIDSequence, photonIDAna}

endpath e = 
   {
     Out
   }

}
